\doxysection{viewport3\+D.\+h}
\hypertarget{viewport3D_8h_source}{}\label{viewport3D_8h_source}\index{view/viewport3D.h@{view/viewport3D.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <QOpenGLBuffer>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <QOpenGLFunctions>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <QOpenGLShaderProgram>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <QOpenGLVertexArrayObject>}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <QOpenGLWidget>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}Logger.h"{}}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ "{}controller.h"{}}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}scene.h"{}}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ "{}user\_setting.h"{}}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00023\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classViewport3D}{Viewport3D}}\ :\ \textcolor{keyword}{public}\ QOpenGLWidget,\ \textcolor{keyword}{protected}\ QOpenGLFunctions\ \{}
\DoxyCodeLine{00024\ \ \ Q\_OBJECT}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ Q\_SIGNALS:}
\DoxyCodeLine{00032\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classViewport3D_a84c7e94c5dfabee67ffb4f71b3627c9f}{signalChangeSize}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ w,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ h);}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00040\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classViewport3D}{Viewport3D}}(std::shared\_ptr<UserSetting>\ setting,}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ QWidget\ *parent\ =\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00050\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classViewport3D_aab25c4470ef36f43583f5936eee93e22}{SetScene}}(std::shared\_ptr<s21::DrawSceneData>\ sc);}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00059\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classViewport3D_a1202bc5c930ba8fa91289d89cbfd6d1c}{ChangeAspectRatio}}(\textcolor{keywordtype}{bool}\ isGif);}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00067\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classViewport3D_a62d74f29518efa8324f9a96458943bc9}{UpdateModelMatrix}}();}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00074\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classViewport3D_a4c0d4e0b4b43c36edb63f4039eea6d9b}{Repaint}}();}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00082\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classViewport3D_a4622ac16ee6b17961ca17b3f4014023d}{SetBackColor}}();}
\DoxyCodeLine{00089\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classViewport3D_a20c5cec3919559bb38e90c44b75a5122}{initializeGL}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00099\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classViewport3D_a3a78c76558a444fdbe1d2c74fdf36049}{resizeGL}}(\textcolor{keywordtype}{int}\ w,\ \textcolor{keywordtype}{int}\ h)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00107\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classViewport3D_a82f1d8571823f3c349bf4c337759b348}{paintGL}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00111\ \ \ std::shared\_ptr<UserSetting>\ renderSetting\_;}
\DoxyCodeLine{00113\ \ \ std::shared\_ptr<s21::DrawSceneData>\ scene\_;}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \textcolor{comment}{//\ Modern\ OpenGL\ members}}
\DoxyCodeLine{00117\ \ \ QOpenGLVertexArrayObject\ vao\_;}
\DoxyCodeLine{00119\ \ \ QOpenGLBuffer\ vbo\_\{QOpenGLBuffer::VertexBuffer\};}
\DoxyCodeLine{00121\ \ \ QOpenGLBuffer\ ebo\_\{QOpenGLBuffer::IndexBuffer\};}
\DoxyCodeLine{00123\ \ \ QOpenGLShaderProgram\ *shaderProgram\_\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00126\ \ \ QMatrix4x4\ projectionMatrix\_;}
\DoxyCodeLine{00128\ \ \ QMatrix4x4\ viewMatrix\_;}
\DoxyCodeLine{00130\ \ \ QMatrix4x4\ modelMatrix\_;}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00133\ \ \ \textcolor{keywordtype}{bool}\ needBufferUpdate\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00135\ \ \ \textcolor{keywordtype}{int}\ vertexCount\_\ =\ 0;}
\DoxyCodeLine{00137\ \ \ \textcolor{keywordtype}{int}\ indexCount\_\ =\ 0;}
\DoxyCodeLine{00139\ \ \ \textcolor{keywordtype}{bool}\ isGifRatio\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00147\ \ \ \textcolor{keywordtype}{void}\ InitShaders();}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00154\ \ \ \textcolor{keywordtype}{void}\ UpdateBuffers();}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00163\ \ \ \textcolor{keywordtype}{void}\ UpdateProjectionMatrix();}
\DoxyCodeLine{00164\ \};}

\end{DoxyCode}
